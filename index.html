<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chemist'sCode</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      display: flex;
      flex-direction: column;
      font-family: 'Roboto', sans-serif;
      background-color: #effcfa;
      color: #0d3b66;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      overflow-y: auto; /* scroll verticale */
      min-height: 100vh; /* aggiunto */
    }

    /* Header fisso */
    header {
      position: sticky;
      top: 0;
      background-color: #effcfa;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
      padding: 15px 20px;
      z-index: 1000;
    }

    header h1,
    header h2 {
      margin: 0;
      text-align: center;
      letter-spacing: 1px;
      color: #0d3b66;
    }

    header h1 {
      font-weight: 700;
      font-size: 1.8rem;
    }

    header h2 {
      font-weight: 400;
      font-size: 1.1rem;
      margin-top: 4px;
      margin-bottom: 12px;
    }

    /* Container provette */
    .test-tubes {
      display: flex;
      justify-content: center;
      gap: 40px;
      max-width: 720px;
      margin: 0 auto 15px auto;
      user-select: none;
    }

    .test-tubes img {
      width: 60px;
      height: auto;
      filter: grayscale(80%);
      transition: filter 0.3s ease, transform 0.3s ease, drop-shadow 0.3s ease;
      cursor: pointer;
    }

    .test-tubes img.active,
    .test-tubes img:hover {
      filter: none;
      transform: scale(1.2);
      filter: drop-shadow(0 0 10px #0d3b66);
    }

    /* Sezioni */
    main {
      max-width: 960px;
      margin: 0 auto 40px auto;
      padding: 20px 40px;
      box-sizing: border-box;
      position: relative;
      flex-grow: 1; /* aggiunto */
    }

    section {
      display: none;
      background-color: transparent;
      padding: 0;
      border: none;
      box-shadow: none;
      opacity: 0;
      transition: opacity 0.5s ease;
      position: relative;
      max-height: none;
      overflow: visible;
    }


    section.active {
      display: block;
      opacity: 1;
    }

    hr {
      border: none;
      height: 1.5px;
      background-color: #0d3b66;
      margin: 2.5rem 0;
      border-radius: 2px;
      max-width: 100px;
      margin-left: auto;
      margin-right: auto;
    }

    a {
      color: #0d3b66;
    }

    a img {
      transition: transform 0.3s ease, filter 0.3s ease;
      cursor: pointer;
      filter: grayscale(100%);
      display: block;
      margin: 0 auto;
    }

    a img:hover {
      filter: none;
      transform: scale(1.1);
    }

    ul {
      padding-left: 20px;
      color: #0d3b66;
    }

    p,
    li {
      font-size: 1.1rem;
      line-height: 1.6;
      color: #0d3b66;
    }

    /* Footer */
    footer p {
      font-size: 0.65rem;
      text-align: center;
      color: #666;
      margin-top: 40px;
    }

    /* Scrollbar for sections */
    section::-webkit-scrollbar {
      width: 8px;
    }

    section::-webkit-scrollbar-thumb {
      background-color: #0d3b66;
      border-radius: 4px;
    }

    /* Stili container immagini con slider */
    .slider-container {
      position: relative;
      max-width: 860px;
      margin: 20px auto;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #slider-image {
      width: 100%;
      max-width: 860px;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      display: block;
    }

    #next-btn {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      background-color: rgba(13, 59, 102, 0.7);
      border: none;
      color: white;
      font-size: 1.8rem;
      padding: 8px 12px;
      border-radius: 50%;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s ease;
    }

    #next-btn:hover {
      background-color: rgba(13, 59, 102, 0.9);
    }
  </style>
</head>

<body>

  <header>
    <h1>THE CHEMIST'S CODE</h1>
    <h2>Un Serious Game per imparare le basi della Chimica</h2>
    <div class="test-tubes" role="tablist" aria-label="Sezioni gioco">
      <img src="docs/provetta1.png" alt="Container immagini" id="tube0" role="tab" tabindex="0" aria-selected="true" />
      <img src="docs/provetta2.png" alt="Descrizione gioco" id="tube1" role="tab" tabindex="-1" aria-selected="false" />
      <img src="docs/provetta3.png" alt="Progetto Github" id="tube2" role="tab" tabindex="-1" aria-selected="false" />
      <img src="docs/provetta4.png" alt="Download" id="tube3" role="tab" tabindex="-1" aria-selected="false" />
      <img src="docs/provetta5.png" alt="Sviluppatori" id="tube4" role="tab" tabindex="-1" aria-selected="false" />
    </div>
  </header>

  <main>
    <!-- Sezione 0: Container immagini con slider -->
    <section id="image-container" class="active" role="tabpanel" tabindex="0" aria-labelledby="tube0">

      <div class="slider-container">
        <img id="slider-image" src="docs/foto1.png" alt="Foto 1" />
        <button id="next-btn" aria-label="Prossima immagine">‚ñ∂</button>
      </div>

    </section>

    <!-- Sezione 1 -->
    <section id="desc-game" role="tabpanel" tabindex="0" aria-labelledby="tube1">

      <p>
        <strong>The Chemist‚Äôs Code</strong> √® un <em>serious game</em> educativo pensato per introdurre
        studenti e appassionati ai concetti fondamentali della chimica attraverso un‚Äôesperienza immersiva e interattiva.
      </p>
      <p>
        Entra nei panni di un chimico che, a seguito di un misterioso incidente nel laboratorio, ha perso la memoria e si
        ritrova rinchiuso in un ambiente abbandonato. Per recuperare le sue conoscenze e fuggire, dovr√† esplorare stanze,
        trovare indizi e risolvere enigmi legati alla chimica.
      </p>
      <p>
        Il gioco si sviluppa come una escape room virtuale articolata in tre livelli, ciascuno dedicato a un tema chiave:
        <strong>la tavola periodica</strong>, <strong>i legami chimici</strong> e <strong>le reazioni chimiche</strong>.
      </p>
      <p>
        Solo risolvendo i puzzle e ricostruendo il proprio passato scientifico, il protagonista potr√† riconquistare la
        libert√†‚Ä¶ e la sua identit√†.
      </p>

      <h3>üìö Livelli di gioco</h3>
      <ul>
        <li>üß≠ <strong>Livello 1</strong> ‚Äì La Tavola Periodica: esplora simboli, gruppi, periodi e propriet√† degli elementi.</li>
        <li>üîó <strong>Livello 2</strong> ‚Äì I Legami Chimici: studia valenze, legami ionici e legami covalenti tra atomi.</li>
        <li>‚öóÔ∏è <strong>Livello 3</strong> ‚Äì Le Reazioni Chimiche: riconosci tipi di reazione e bilancia equazioni chimiche.</li>
      </ul>
    </section>

    <!-- Sezione 2 -->
    <section id="github" role="tabpanel" tabindex="0" aria-labelledby="tube2">
      <h2>Progetto Github</h2>
      <a href="https://github.com/OrangeJuiceV/Chemist-sCode" target="_blank" rel="noopener noreferrer">
        <img src="docs/github.png" alt="github" width="50" height="50" />
      </a>
      <p style="text-align: center;">clicca ‚Üë</p>
      <div style="text-align: center;">
        <img src="docs/github2.png" alt="githubproject" style="width: 80%; height: auto;" />
      </div>
    </section>

    <!-- Sezione 3 -->
    <section id="download" role="tabpanel" tabindex="0" aria-labelledby="tube3">
      <h2>Download</h2>
      <a href="https://github.com/OrangeJuiceV/Chemist-sCode/releases/latest" target="_blank" rel="noopener noreferrer">
        <img src="docs/download.png" alt="download" width="50" height="50" />
      </a>
    </section>

    <!-- Sezione 4 -->
    <section id="authors" role="tabpanel" tabindex="0" aria-labelledby="tube4">
      <h2>Sviluppatori</h2>
      <p>
        <strong>Claudio di Pietro</strong> - 111111<br>
        Ricerca asset, Progettazione level design, Ricerca e sviluppo di
        musiche e suoni, Strutturazione materiale testuale, Sviluppo delle impostazioni.
        <br><br>
        <strong>Giuseppe Pio Fallucca</strong> - 782111<br>
        Ricerca asset, Sviluppo meccaniche fondamentali,
        Strutturazione materiale testuale, Sviluppo dei menu di gioco, test e revisioni.
      </p>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 The Chemist‚Äôs Code - Tutti i diritti riservati. <br>
      Questo sito non raccoglie n√© memorizza dati personali. Tuttavia, carica un font da Google Fonts, che potrebbe
      raccogliere dati tecnici come l'indirizzo IP. Nessun altro cookie o tracciamento viene effettuato. <br>
      Per maggiori informazioni, visita la <a href="https://policies.google.com/privacy" target="_blank">Privacy Policy di
        Google</a>.</p>
  </footer>

  <script>
    // Gestione selezione delle provette
    const tubes = document.querySelectorAll('.test-tubes img');
    const sections = document.querySelectorAll('main section');

    tubes.forEach((tube, index) => {
      tube.addEventListener('click', () => {
        // Rimuovi active da tutti
        tubes.forEach(t => {
          t.classList.remove('active');
          t.setAttribute('aria-selected', 'false');
          t.setAttribute('tabindex', '-1');
        });
        sections.forEach(sec => sec.classList.remove('active'));

        // Imposta active su selezionato
        tube.classList.add('active');
        tube.setAttribute('aria-selected', 'true');
        tube.setAttribute('tabindex', '0');
        sections[index].classList.add('active');
        sections[index].scrollTop = 0; // scrolla in cima alla sezione
        currentSection = index;
      });

      // Supporto tastiera per tab e invio/spazio
      tube.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          tube.click();
        }
      });
    });

    let currentSection = 0;

    // Scroll con la rotellina solo se scroll sezione raggiunge limite
    window.addEventListener('wheel', (e) => {
      const activeSection = sections[currentSection];
      if (!activeSection) return;

      const atBottomSection = activeSection.scrollTop + activeSection.clientHeight >= activeSection.scrollHeight - 1;
      const atTopSection = activeSection.scrollTop <= 0;

      // Scroll document
      const scrollY = window.scrollY || window.pageYOffset;
      const windowHeight = window.innerHeight;
      const bodyHeight = document.body.scrollHeight;

      const atBottomPage = (scrollY + windowHeight) >= (bodyHeight - 1);
      const atTopPage = scrollY <= 0;

      if (e.deltaY > 0) { // scroll verso il basso
        if (atBottomSection && atBottomPage && currentSection < tubes.length - 1) {
          currentSection++;
          tubes[currentSection].click();
          e.preventDefault();
        }
      } else if (e.deltaY < 0) { // scroll verso l'alto
        if (atTopSection && atTopPage && currentSection > 0) {
          currentSection--;
          tubes[currentSection].click();
          e.preventDefault();
        }
      }
    }, { passive: false });

    let touchStartY = 0;
    let touchEndY = 0;

    window.addEventListener('touchstart', (e) => {
      touchStartY = e.changedTouches[0].screenY;
      touchStartX = e.changedTouches[0].screenX; // tieni anche X per swipe orizzontale esistente
    });

    window.addEventListener('touchend', (e) => {
      touchEndY = e.changedTouches[0].screenY;
      touchEndX = e.changedTouches[0].screenX;
      handleVerticalSwipe();
      handleGesture(); // esistente per swipe orizzontale
    });

    function handleVerticalSwipe() {
      const deltaY = touchStartY - touchEndY;
      const activeSection = sections[currentSection];

      if (!activeSection) return;

      // Controllo se la sezione √® scrollabile verticalmente
      const scrollTop = activeSection.scrollTop;
      const scrollHeight = activeSection.scrollHeight;
      const clientHeight = activeSection.clientHeight;

      // Se la sezione non √® scrollabile o √® completamente scrollata in cima o in fondo
      const canScrollUp = scrollTop > 0;
      const canScrollDown = scrollTop + clientHeight < scrollHeight;

      // soglia per swipe verticale
      if (Math.abs(deltaY) > 50) {
        if (deltaY > 0) {
          // swipe verso l'alto = scroll verso il basso (vai avanti se possibile)
          // cambio sezione solo se non si pu√≤ pi√π scrollare gi√π (cio√® siamo al fondo)
          if (!canScrollDown && currentSection < tubes.length - 1) {
            currentSection++;
            tubes[currentSection].click();
          }
        } else {
          // swipe verso il basso = scroll verso l'alto (vai indietro se possibile)
          // cambio sezione solo se non si pu√≤ pi√π scrollare su (cio√® siamo in cima)
          if (!canScrollUp && currentSection > 0) {
            currentSection--;
            tubes[currentSection].click();
          }
        }
      }
    }



    // Gestione slider immagini nella prima sezione
    const sliderImages = [
      'docs/foto1.png',
      'docs/foto2.png',
      'docs/foto3.png',
      'docs/foto4.png',
    ];

    let currentImageIndex = 0;

    const sliderImageElement = document.getElementById('slider-image');
    const nextButton = document.getElementById('next-btn');

    nextButton.addEventListener('click', () => {
      currentImageIndex = (currentImageIndex + 1) % sliderImages.length;
      sliderImageElement.src = sliderImages[currentImageIndex];
      sliderImageElement.alt = `Foto ${currentImageIndex + 1}`;
    });
  </script>
</body>

</html>
